<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mood calendar</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="calendar-container">
        <div class="calendar-header"></div>
        <a href="/calendar?year={{ year }}&month={{ month - 1 if month > 1 else 12 }}" class="nav-btn">â†</a>
        <h1>{{ month_name }} {{ year }}</h1>
            <a href="/calendar?year={{ year }}&month={{ month + 1 if month < 12 else 1 }}" class="nav-btn">â†’</a>
    </div>

    <div class="calendar-grid">
        <div class="calendar-day-header">Sun</div>
        <div class="calendar-day-header">Mon</div>
        <div class="calendar-day-header">Tue</div>
        <div class="calendar-day-header">Wed</div>
        <div class="calendar-day-header">Thu</div>
        <div class="calendar-day-header">Fri</div>
        <div class="calendar-day-header">Sat</div>

        {% for i in range(first_day_weekday) %}
                <div class="calendar-cell empty"></div>
            {% endfor %}

            {% for day in range(1, num_days + 1) %}
                {% set date_str = "%04d-%02d-%02d"|format(year, month, day) %}
                {% set mood = mood_dict.get(date_str) %}
                <div class="calendar-cell {% if mood %}has-mood{% endif %}">
                    <div class="day-number">{{ day }}</div>
                    {% if mood %}
                        <div class="mood-emoji">
                            {% if mood == 'Happy' %}ğŸ˜Š
                            {% elif mood == 'Sad' %}ğŸ˜¢
                            {% elif mood == 'Angry' %}ğŸ˜ 
                            {% elif mood == 'Tired' %}ğŸ˜´
                            {% endif %}
                        </div>
                        <div class="mood-label">{{ mood }}</div>
                    {% endif %}
                </div>
    </div>
    
</body>
</html>